<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Meh.22.1.B</title>

<style>

* { box-sizing: border-box; margin: 0; padding: 0; }

html {
	height: 100%; background: hsl( 22, 30%, 97% );
	overflow: auto scroll;
}

body
{
	margin: 0 13%;
	padding: 1em 0 7.5em;
	min-height: 100%;
	background:hsl( 22, 30%, 100% );
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 1em;
}

a { color:hsl( 22, 0%, 22% ); text-decoration:hsl( 22, 30%, 98% ); }

.Ranges { display: flex; flex-direction: column; gap: 1px; }

.Range
{
	width: 700px; height: 2.8em;
	border-radius: 0.8ex;
	padding: 0 1em;
	display: grid; gap: 0.5ex;
	grid-template-columns: 4em 1fr 6ex 15ex 10ex;
	align-items: center;
	background:hsl( 42, 3%, 90% );
	font-family: "Yu Gothic";
	font-size: 15px;
}

.Range .value { text-align: right; }

.Tabs
{
	list-style: none; display: flex; justify-content: center; gap: 2px;
}

.Tabs > li
{
	border-radius: 0.5ex;
	min-width: 5em;
	padding: 1ex 1em;
	cursor: pointer;
	text-align: center;
	background:hsl( 42, 12%, 93% );
}

.Tabs > li.selected
{
	color:hsl( 22, 30%, 98% );
	background:hsl( 22, 4%, 18% );
}

.App { display: flex; flex-direction: column; gap: 3em; }

.Applet { display: flex; flex-direction: column; gap: 1em; }

.HSLAppletA {  }
.HSLAppletA .display { width: 600px; height: 200px; border-radius: 1ex; padding: 1em; }

.Main { display: flex; flex-direction: column; gap: 1em; }

</style>

</head>
<body>

	<h1>🐏Meh.22.1.B🐏</h1>

<script type="module">

/*
盛り込み
	モデル
		ブランチ
			リレーション
		値初期化機構
	ビュー
		Ref アップデート
		Mirror コンバート

	ページスイッチ
		DOMオーダー式
			order : Leaf.Number
		Key式
			Index式
	インデックス・ナビゲーション・URL対応
		URL <--> Index 互いに得られたい
		URLパラメータ
		Index
			focus


Model
	Notable
		Leaf
			* Ref
		Act
Model.Navi
	Node
		Index
	Tree
		Selector
			Navi

*/


import Meh from "../../Meh/meh.js";
const { Leaf, Selector, GUI, log } = Meh;
import Synthe from "./applets/synthe.js";
import { RailAppletA } from "./applets/rail.js";
import HSL from "./applets/hsl.js";

//  //

const Main = args =>
{
	const partSw = args.selector.current;
	const index = args.selector.root;

	const part = index => ( index.content?.( index ) || { type: Main.Content , index } );

	return {
		type: "div", class: "Main",
		parts:[
			{ type: GUI.List, class: "Tabs", index },
			{ type: "div", class: "content", parts: { model: index.parts, part }, partSw },
		]
	};
};

Main.Content = args =>
{
	const { index } = args;
	const { title } = index;

	return {
		type: "div",
		parts:[
			{ type: "h3", text: title },
			{ type: "p", text: title }
		]
	};
};

//  //

const TopPage = index =>
{
	const links =
	[
		{ title: "SLF-2", link: "../SLF/slf2.html" },
		{ title: "SLF", link: "../SLF/slf.html" },
		{ title: "駅名CSS", link: "" },
	];

	const link = item => ( { type: "li", parts: [ { type: "a", text: item.title, attrs: { target: "_blank", href: item.link } } ] } );

	return {
		type: "div", class: "Applet",
		parts:[
			{ type: "h2", text: index.title },
			{ type: "ul", parts: { model: links, part: link } },
		]
	};
};

//  //

const App = args =>
{
	const eg = new Synthe.Model.EG;
	const hsl = new HSL.Model.HSL();

	const listSrc =
	{
		"top": { title: "Links", content: TopPage, selected: true },
		"hsl":
		{
			title: "HSL Color",
			content: index => ( { type: HSL.UI.AppletA, model: hsl } )
		},
		"synthe":
		{
			title: "Synthe",
			content: index => ( { type: Synthe.UI.SyntheA } )
		},
		"rail":
		{
			title: "Rail",
			content: index => ( { type: RailAppletA } )
		},
	};

	const selector = new Selector( { parts: listSrc } );

	return { type: "div", class: "App",
		parts:[
			{ type: Main, selector },
		]
	};
};


const main = () =>
{
	Meh.DOM.create( { type: App }, "body" );
};


main();


/*

* HTMLコンポーネントライブラリをつくろう

  -- 駄菓子屋コード基地 --

** モデル・ビュー 連携のしくみを



** インデックス
. カスタムインデックス
. 動的追加・フェッチ


*/

</script>

</body>
</html>