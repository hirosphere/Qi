<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Meh.22.1.B</title>

<style>

* { box-sizing: border-box; margin: 0; padding: 0; }

html {
	height: 100%; background: hsl( 22, 30%, 97% );
	overflow: auto scroll;
}

body
{
	margin: 0 13%;
	padding: 1em 0 7.5em;
	min-height: 100%;
	background:hsl( 22, 30%, 100% );
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 2em;
}

.Range
{
	width: 400px;
	display: grid; gap: 0.5ex;
	grid-template-columns: 4em 1fr 4ex 1ex;
	align-items: center;
}

.Tabs
{
	list-style: none;
	display: flex;
	gap: 1px;
}

.Tabs > li
{
	border-radius: 0.5ex;
	min-width: 5em;
	padding: 1ex 1em;
	cursor: pointer;
	text-align: center;
	background:hsl( 42, 12%, 93% );
}

.Tabs > li.selected
{
	color:hsl( 22, 30%, 98% );
	background:hsl( 22, 0%, 12% );
}

.SampleA { display: flex; flex-direction: column; align-items: center; gap: 2em; }

</style>

</head>
<body>

	<h1>🐏Meh.22.1.B🐏</h1>

<script type="module">

/*
盛り込み
	モデル
		ブランチ
			リレーション
	ビュー
		Ref アップデート
		Mirror コンバート

	ページスイッチ
	インデックス・ナビゲーション

Model
	Notable
		Leaf
			* Ref
			* View
		Act
Model.Navi
	Node
		Index
	Tree
		Selector
			Navi

*/


import Meh from "../../Meh/meh.js";
const { Leaf, Branch, UI, Selector } = Meh;
const { List, ListItem } = UI;


// Model //

class App extends Branch
{
	color1 = new HSL();
}

class HSL extends Branch
{
	hue = new Leaf.Number();
	sat = new Leaf.Number();
	light = new Leaf.Number();

	value = new Leaf.Object();
	css = new Leaf.String();

	static sets =
	{
		value: v => v,
	};

	static updates =
	{
		css: ( { hue, sat, light } ) => `hsl()`,
	};
}


// UI //

const Range = ( args, { rems } ) =>
{
	const value = rems.bind( args.value );

	return {
		type: "div", class: "Range",
		parts:[
			{ type: "span", text: "Range" },
			{
				type: "input",
				attrs: { type: "range" },
				props: { value: value },
				acts: { input: ev => { value.set( ev.target.value - 0 ); } },
			},
			{ type: "span", text: value }
		]
	};
};

const SampleA = args =>
{
	return {
		type: "div", class: "SampleA",
		parts:[
			//{ type: "input", attrs: { value: value1 } },
			{ type: List, class: "Tabs", index: args.mainSel.root },
			{ type: Range, value: new Leaf( { value: 33 } ) },
		]
	};
};


//  //

const main = () =>
{
	const app = new App();

	const mainList =
	{
		"aa": { title: "霞ヶ関", content: { type: "div", text: "Aa" }, selected: true },
		"bbb": { title: "鶴ヶ島", content: { type: "div", text: "Bb" } },
		"cccc": { title: "若葉", content: { type: "div", text: "Cc" } },
		"ddddd": { title: "坂戸", content: { type: "div", text: "Dd" } },
	};
	
	const mainSel = new Selector( { parts: mainList } );
	
	Meh.HTDom.create( { type: SampleA, model: app, mainSel }, "body" );
};


main();

</script>

<a href="../../Code-Sketch/Proxy-1/">Proxy-1</a>

</body>
</html>